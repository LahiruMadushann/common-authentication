spring:
  application:
    name: auth-service
  config:
    import: optional:file:.env[.properties]

  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 50
      minimum-idle: 20

  jpa:
    database: POSTGRESQL
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

mybatis:
  mapper-locations: classpath:com.ctn.commonauthentication.infrastructure.repository/*.xml
  type-aliases-package: com.ctn.commonauthentication.dto

# JWT Configuration
jwt:
  secret: ${JWT_SECRET}
  access-token-expiration: 900000          # 15 minutes in milliseconds
  refresh-token-expiration: 2592000000     # 30 days in milliseconds

# Server Configuration
server:
  port: 8080
  servlet:
    session:
      timeout: 10800
      cookie:
        max-age: 10800

# Logging
logging:
  level:
    com.ctn.appraisal: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# Swagger/OpenAPI Configuration
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui.html
    try-it-out-enabled: true
    disable-swagger-default-url: true
    config-url: /v3/api-docs/swagger-config
    urls:
      - url: /v3/api-docs
        name: Authentication API Documentation
  packages-to-scan: com.ctn.appraisal
  paths-to-match: /api/auth/**

apis:
  cpass:
    enabled: true # if false, the cpass service will be disabled and SNS will be used
    token: ${CPASS_TOKEN}
    url: https://cpaasnow.com/api/v1
  ai-matching:
    url: https://r07l8pd6s5.execute-api.ap-northeast-1.amazonaws.com/Stage/v1/matching/requests
    token: ${AI_API_TOKEN}
  ai-buyer:
    url: https://r07l8pd6s5.execute-api.ap-northeast-1.amazonaws.com/Stage/v1/stores
    token: ${AI_API_TOKEN}
  ai-final-offer:
    url: https://r07l8pd6s5.execute-api.ap-northeast-1.amazonaws.com/Stage/v1/appraisals/requests
    token: ${AI_API_TOKEN}